<%#
  Struct adapter functions mapping all fields to/from their __sklib type
 %>
<%
  @structs.each do |struct|
%>
function __skadapter__to_sklib_<%= struct[:name] %>(v: <%= struct[:name] %>): <%= struct[:name].type_case %>;
begin
<%
    struct[:fields].each do |field_name, field_data|
%>
  result.<%= field_name %> := __skadapter__to_sklib_<%= field_data[:type] %>(v.<%= field_name %>);
<%
    end # end fields.each
%>
end;
function __skadapter__to_<%= struct[:name] %>(v: <%= struct[:name].type_case %>): __sklib_<%= struct[:name] %>;
begin
<%
    struct[:fields].each do |field_name, field_data|
%>
  result.<%= field_name %> := __skadapter__to_<%= field_data[:type] %>(v.<%= field_name %>);
<%
    end # fields.each
%>
end;
<%
  end # structs.each
%>
